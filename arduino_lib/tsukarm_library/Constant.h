/**
 * @file Constant.h
 * @brief ライブラリの各種定数値を定義する
 * @author Kentarou Endou
 * @date 2017/03/01
 */
#ifndef STRONG_TSUK_ARM_CONSTANT_H
#define STRONG_TSUK_ARM_CONSTANT_H

//! 1フレームあたりの時間（ミリ秒）
const int FRAME_INTERVAL = 10;

//! ロボットアームの保有するサーボの総数
const int SERVO_COUNT = 7;

//! ジョブキューに格納できるジョブ数の上限
const int QUEUE_SIZE = 500;

//! アーム擬似長さの最小値(mm)
const double MIN_ARM_LENGTH = 100.0;

//! 旋回角制御用のサーボ番号
const int TURN_SERVO = 0;

//! グリッパ制御用のサーボ番号
const int GRIPPER_SERVO = 6;

//! 夾角の最小値（DEG）
const int MIN_INCLUDED_ANGLE = 20;
//! 夾角の最大値（DEG）
const int MAX_INCLUDED_ANGLE = 161;

//! 初期姿勢における各サーボの角度（DEG）
const int INITIAL_ANGLES[] = {90, 140, 60, 90, 90, 90, 0};

//! 夾角ごとのアーム擬似長さ(mm)
const double ARM_LENGTHS[] = {
	0.0, 76.05,76.98,77.99,79.09,80.26,81.50,82.81,84.19,85.63,
	87.12,88.68,90.28,91.94,93.64,95.38,97.16,98.98,100.83,102.72,
	104.63,106.57,108.54,110.53,112.55,114.58,116.64,118.70,120.79,122.89,
	125.00,127.12,129.26,131.40,133.55,135.71,137.87,140.04,142.21,144.38,
	146.56,148.74,150.92,153.11,155.29,157.47,159.65,161.82,164.00,166.17,
	168.34,170.50,172.66,174.81,176.96,179.10,181.23,183.36,185.48,187.59,
	189.70,191.79,193.88,195.96,198.03,200.09,202.13,204.17,206.20,208.22,
	210.22,212.22,214.20,216.17,218.12,220.07,222.00,223.92,225.82,227.71,
	229.59,231.45,233.30,235.14,236.96,238.76,240.55,242.32,244.08,245.82,
	247.55,249.26,250.96,252.63,254.29,255.94,257.56,259.17,260.77,262.34,
	263.90,265.44,266.96,268.46,269.95,271.41,272.86,274.29,275.70,277.09,
	278.46,279.81,281.15,282.46,283.75,285.03,286.28,287.51,288.73,289.92,
	291.09,292.25,293.38,294.49,295.58,296.65,297.70,298.72,299.73,300.71,
	301.68,302.62,303.54,304.44,305.31,306.17,307.00,307.81,308.60,309.37,
	310.11,310.84,311.54,312.21,312.87,313.50,314.11,314.70,315.26,315.81,
	316.33,316.82,317.30,317.75,318.18,318.58,318.96,319.32,319.66,319.97,
	320.26,320.53,320.77,320.99,321.19,321.36,321.51,321.64,321.75,321.83,
	321.88,321.92,321.93,321.92,321.88,321.82,321.74,321.64,321.51,321.35
};

//! 夾角ごとの仰角補正の量(DEG)
const int ANGLE_REVISIONS[] = {
	0,156,153,151,148,146,144,141,139,137,
	135,133,131,129,127,126,124,122,121,119,
	117,116,114,113,111,110,109,107,106,105,
	103,102,101,100,99,98,96,95,94,93,
	92,91,90,89,88,87,86,85,84,83,
	82,82,81,80,79,78,77,76,75,75,
	74,73,72,71,71,70,69,68,67,67,
	66,65,64,64,63,62,61,61,60,59,
	59,58,57,56,56,55,54,54,53,52,
	51,51,50,49,49,48,47,47,46,45,
	45,44,43,43,42,41,41,40,39,39,
	38,37,37,36,36,35,34,34,33,32,
	32,31,30,30,29,29,28,27,27,26,
	25,25,24,24,23,22,22,21,20,20,
	19,19,18,17,17,16,15,15,14,14,
	13,12,12,11,11,10,9,9,8,7,
	7,6,6,5,4,4,3,3,2,1,
	1,0,0,0,-1,-1,-2,-3,-3,-4
};

//! サーボ角→極座標系の計算に用いるα角の量(RAD)
const float POLAR_ALPHA_ANGLES[] = {
	0.00000f, 0.03031f, 0.06051f, 0.09049f, 0.12013f, 0.14934f, 0.17803f, 0.20611f, 
	0.23350f, 0.26013f, 0.28595f, 0.31091f, 0.33497f, 0.35812f, 0.38031f, 
	0.40156f, 0.42185f, 0.44118f, 0.45957f, 0.47703f, 0.49357f, 0.50922f, 
	0.52399f, 0.53791f, 0.55102f, 0.56333f, 0.57487f, 0.58568f, 0.59577f, 
	0.60519f, 0.61395f, 0.62208f, 0.62961f, 0.63657f, 0.64298f, 0.64886f, 
	0.65424f, 0.65914f, 0.66359f, 0.66759f, 0.67117f, 0.67435f, 0.67715f, 
	0.67959f, 0.68167f, 0.68342f, 0.68485f, 0.68597f, 0.68680f, 0.68735f, 
	0.68763f, 0.68766f, 0.68744f, 0.68698f, 0.68630f, 0.68540f, 0.68429f, 
	0.68299f, 0.68149f, 0.67981f, 0.67795f, 0.67592f, 0.67373f, 0.67139f, 
	0.66889f, 0.66625f, 0.66347f, 0.66055f, 0.65751f, 0.65434f, 0.65105f, 
	0.64764f, 0.64413f, 0.64050f, 0.63678f, 0.63295f, 0.62903f, 0.62501f, 
	0.62090f, 0.61671f, 0.61243f, 0.60807f, 0.60363f, 0.59911f, 0.59452f, 
	0.58986f, 0.58514f, 0.58034f, 0.57548f, 0.57056f, 0.56558f, 0.56053f, 
	0.55544f, 0.55028f, 0.54508f, 0.53982f, 0.53451f, 0.52915f, 0.52375f, 
	0.51830f, 0.51280f, 0.50726f, 0.50168f, 0.49606f, 0.49040f, 0.48470f, 
	0.47897f, 0.47320f, 0.46739f, 0.46155f, 0.45567f, 0.44977f, 0.44383f, 
	0.43786f, 0.43187f, 0.42584f, 0.41979f, 0.41371f, 0.40760f, 0.40147f, 
	0.39531f, 0.38913f, 0.38292f, 0.37669f, 0.37045f, 0.36417f, 0.35788f, 
	0.35157f, 0.34524f, 0.33889f, 0.33252f, 0.32613f, 0.31973f, 0.31331f, 
	0.30687f, 0.30041f, 0.29394f, 0.28746f, 0.28096f, 0.27445f, 0.26792f, 
	0.26138f, 0.25483f, 0.24827f, 0.24169f, 0.23510f, 0.22850f, 0.22189f, 
	0.21527f, 0.20864f, 0.20200f, 0.19535f, 0.18870f, 0.18203f, 0.17536f, 
	0.16867f, 0.16198f, 0.15529f, 0.14858f, 0.14187f, 0.13516f, 0.12843f, 
	0.12171f, 0.11497f, 0.10824f, 0.10149f, 0.09475f, 0.08799f, 0.08124f, 
	0.07448f, 0.06772f, 0.06096f, 0.05419f, 0.04742f, 0.04065f, 0.03388f, 
	0.02710f, 0.02033f, 0.01355f
};

//! サーボモータにおける最小パルス幅（Hz）
const int MIN_PULSE = 500;
//! サーボモータにおける最大パルス幅（Hz）
const int MAX_PULSE = 2500;

//! ロボットアームの辺r0（M0軸とM1/M2軸のxy平面上の距離）の長さ(mm)
const double ARM_R0_LENGTH = 0;

//! ロボットアームの辺r1（サーボM1/M2軸～r2とのリンク）の長さ(mm)
const double ARM_R1_LENGTH = 125.0;

//! ロボットアームの辺r2（r1とのリンク～サーボM4軸）の長さ(mm)
const double ARM_R2_LENGTH = 197.0;


#endif

